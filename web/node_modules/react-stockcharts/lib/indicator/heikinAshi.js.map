{"version":3,"sources":["../../../src/lib/indicator/heikinAshi.js"],"names":["base","type","ALGORITHM_TYPE","accessor","d","ha","underlyingAlgorithm","mergedAlgorithm","algorithm","merge","datum","indicator","data","options","Error"],"mappings":";;;;;;;;kBASe,YAAW;;AAEzB,KAAMA,OAAO,+BACXC,IADW,CACNC,cADM,EAEXC,QAFW,CAEF;AAAA,SAAKC,EAAEC,EAAP;AAAA,EAFE,CAAb;;AAIA,KAAMC,sBAAsB,6BAA5B;;AAEA,KAAMC,kBAAkB,oBACtBC,SADsB,CACZF,mBADY,EAEtBG,KAFsB,CAEhB,UAACC,KAAD,EAAQC,SAAR,EAAsB;AAC5B,sBAAYD,KAAZ,EAAsBC,SAAtB;AACA,EAJsB,CAAxB;;AAMA,KAAMA,YAAY,SAAZA,SAAY,CAASC,IAAT,EAA0C;AAAA,MAA3BC,OAA2B,uEAAjB,EAAEJ,OAAO,IAAT,EAAiB;;AAC3D,MAAII,QAAQJ,KAAZ,EAAmB;AAClB,OAAI,CAACT,KAAKG,QAAL,EAAL,EAAsB,MAAM,IAAIW,KAAJ,yBAAgCZ,cAAhC,yBAAN;AACtB,UAAOK,gBAAgBK,IAAhB,CAAP;AACA;AACD,SAAON,oBAAoBM,IAApB,CAAP;AACA,EAND;;AAQA,oBAAOD,SAAP,EAAkBX,IAAlB,EAAwB,UAAxB,EAAoC,QAApC,EAA8C,MAA9C,EAAsD,MAAtD,EAA8D,MAA9D;AACA;AACA,oBAAOW,SAAP,EAAkBJ,eAAlB,EAAmC,OAAnC;;AAEA,QAAOI,SAAP;AACA,C;;AAlCD;;AACA;;;;AAEA;;;;AAEA,IAAMT,iBAAiB,YAAvB","file":"heikinAshi.js","sourcesContent":["\n\nimport { heikinAshi } from \"../calculator\";\nimport baseIndicator from \"./baseIndicator\";\n\nimport { rebind, merge } from \"../utils\";\n\nconst ALGORITHM_TYPE = \"HeikinAshi\";\n\nexport default function() {\n\n\tconst base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ha);\n\n\tconst underlyingAlgorithm = heikinAshi();\n\n\tconst mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\treturn { ...datum, ...indicator };\n\t\t});\n\n\tconst indicator = function(data, options = { merge: true }) {\n\t\tif (options.merge) {\n\t\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\t\treturn mergedAlgorithm(data);\n\t\t}\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\trebind(indicator, base, \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\t// rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\trebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n"]}