{"version":3,"sources":["../../../src/lib/indicator/change.js"],"names":["base","type","ALGORITHM_TYPE","underlyingAlgorithm","mergedAlgorithm","algorithm","merge","datum","indicator","absoluteChange","percentChange","data","options"],"mappings":";;;;;;kBAUe,YAAW;;AAEzB,KAAMA,OAAO,+BACXC,IADW,CACNC,cADM,CAAb;;AAGA,KAAMC,sBAAsB,yBAA5B;;AAEA,KAAMC,kBAAkB,oBACtBC,SADsB,CACZF,mBADY,EAEtBG,KAFsB,CAEhB,UAACC,KAAD,EAAQC,SAAR,EAAsB;AAC5BD,QAAME,cAAN,GAAuBD,UAAUC,cAAjC;AACAF,QAAMG,aAAN,GAAsBF,UAAUE,aAAhC;AACA,EALsB,CAAxB;;AAOA,KAAMF,YAAY,SAAZA,SAAY,CAASG,IAAT,EAA0C;AAAA,MAA3BC,OAA2B,uEAAjB,EAAEN,OAAO,IAAT,EAAiB;;AAC3D,MAAIM,QAAQN,KAAZ,EAAmB;AAClB,UAAOF,gBAAgBO,IAAhB,CAAP;AACA;AACD,SAAOR,oBAAoBQ,IAApB,CAAP;AACA,EALD;AAMA,oBAAOH,SAAP,EAAkBR,IAAlB,EAAwB,IAAxB,EAA8B,UAA9B,EAA0C,QAA1C,EAAoD,MAApD,EAA4D,MAA5D,EAAoE,MAApE;AACA,oBAAOQ,SAAP,EAAkBL,mBAAlB,EAAuC,SAAvC;AACA,oBAAOK,SAAP,EAAkBJ,eAAlB,EAAmC,OAAnC,EAA4C,eAA5C;;AAEA,QAAOI,SAAP;AACA,C;;AAjCD;;AAEA;;AAEA;;;;;;AAEA,IAAMN,iBAAiB,QAAvB","file":"change.js","sourcesContent":["\n\nimport { rebind, merge } from \"../utils\";\n\nimport { change } from \"../calculator\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Change\";\n\nexport default function() {\n\n\tconst base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tconst underlyingAlgorithm = change();\n\n\tconst mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\tdatum.absoluteChange = indicator.absoluteChange;\n\t\t\tdatum.percentChange = indicator.percentChange;\n\t\t});\n\n\tconst indicator = function(data, options = { merge: true }) {\n\t\tif (options.merge) {\n\t\t\treturn mergedAlgorithm(data);\n\t\t}\n\t\treturn underlyingAlgorithm(data);\n\t};\n\trebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\trebind(indicator, underlyingAlgorithm, \"options\");\n\trebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n"]}