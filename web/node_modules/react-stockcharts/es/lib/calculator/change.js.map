{"version":3,"sources":["../../../../src/lib/calculator/change.js"],"names":["slidingWindow","Change","defaultOptions","options","calculator","data","sourcePath","algo","windowSize","accumulator","prev","curr","absoluteChange","percentChange","newData","undefinedLength","x","arguments","length"],"mappings":";;;;AAEA,SAASA,aAAT,QAA8B,UAA9B;AACA,SAASC,UAAUC,cAAnB,QAAyC,gCAAzC;;AAEA,eAAe,YAAW;AACzB,KAAIC,UAAUD,cAAd;;AAEA,UAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,iBACFF,OADE;AAAA,MACjBG,UADiB,YACjBA,UADiB;;;AAGzB,MAAMC,OAAOP,gBACXQ,UADW,CACA,CADA,EAEXF,UAFW,CAEAA,UAFA,EAGXG,WAHW,CAGC,gBAAkB;AAAA;AAAA,OAAhBC,IAAgB;AAAA,OAAVC,IAAU;;AAC9B,OAAMC,iBAAiBD,OAAOD,IAA9B;AACA,OAAMG,gBAAgBD,iBAAiB,GAAjB,GAAuBF,IAA7C;AACA,UAAO,EAAEE,8BAAF,EAAkBC,4BAAlB,EAAP;AACA,GAPW,CAAb;;AASA,MAAMC,UAAUP,KAAKF,IAAL,CAAhB;;AAEA,SAAOS,OAAP;AACA;AACDV,YAAWW,eAAX,GAA6B,YAAW;AACvC,SAAO,CAAP;AACA,EAFD;AAGAX,YAAWD,OAAX,GAAqB,UAASa,CAAT,EAAY;AAChC,MAAI,CAACC,UAAUC,MAAf,EAAuB;AACtB,UAAOf,OAAP;AACA;AACDA,yBAAeD,cAAf,EAAkCc,CAAlC;AACA,SAAOZ,UAAP;AACA,EAND;;AAQA,QAAOA,UAAP;AACA","file":"change.js","sourcesContent":["\n\nimport { slidingWindow } from \"../utils\";\nimport { Change as defaultOptions } from \"./defaultOptionsForComputation\";\n\nexport default function() {\n\tlet options = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tconst { sourcePath } = options;\n\n\t\tconst algo = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(([prev, curr]) => {\n\t\t\t\tconst absoluteChange = curr - prev;\n\t\t\t\tconst percentChange = absoluteChange * 100 / prev;\n\t\t\t\treturn { absoluteChange, percentChange };\n\t\t\t});\n\n\t\tconst newData = algo(data);\n\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn 1;\n\t};\n\tcalculator.options = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn options;\n\t\t}\n\t\toptions = { ...defaultOptions, ...x };\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n"]}