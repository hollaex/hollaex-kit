{"version":3,"sources":["../../../../src/lib/annotation/LabelAnnotation.js"],"names":["React","Component","PropTypes","functor","LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","opacity","rotate","xAccessor","helper","xPos","yPos","fill","text","tooltip","x","y","plotData","xFunc","yFunc","propTypes","string","oneOfType","func","number","object","defaultProps"],"mappings":"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","file":"LabelAnnotation.js","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { functor } from \"../utils\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tconst { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tconst { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tconst { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\n\t\tconst { xAccessor, xScale, yScale } = this.props;\n\n\t\tconst { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<text x={xPos} y={yPos}\n\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\n\t\t\t\tfill={fill}\n\t\t\t\topacity={opacity}\n\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\ttextAnchor={textAnchor}>{text}</text>\n\t\t</g>);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tconst { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tconst xFunc = functor(x);\n\tconst yFunc = functor(y);\n\n\tconst [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: functor(text)(datum),\n\t\tfill: functor(fill)(datum),\n\t\ttooltip: functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]),\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]),\n\ty: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t])\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n"]}